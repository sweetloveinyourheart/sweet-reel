syntax = "proto3";

option go_package = "github.com/sweetloveinyourheart/sweet-reel/proto/code/video_management/go;grpc";

package com.sweetloveinyourheart.srl.videomanagement.dataproviders;

service VideoManagement {
    rpc PresignedUrl(PresignedUrlRequest) returns(PresignedUrlResponse);
    rpc GetChannelVideos(GetChannelVideosRequest) returns(GetChannelVideosResponse);
}

message PresignedUrlRequest {
    string title = 1;
    string description = 2;
    string file_name = 3;
    string uploader_id = 4;
    string channel_id = 5;
}

message PresignedUrlResponse {
    string video_id = 1;
    string presigned_url = 2;
    int32 expires_in = 3;
}

message GetChannelVideosRequest {
    string channel_id = 1;
    int32 limit = 2;
    int32 offset = 3;
}

message ChannelVideo {
    string video_id = 1;
    string video_title = 2;
    string thumbnail_url = 3;
    int32 total_duration = 4;
    int64 total_view = 5;
    int64 processed_at = 6;
}

message GetChannelVideosResponse {
    repeated ChannelVideo videos = 1;
}
