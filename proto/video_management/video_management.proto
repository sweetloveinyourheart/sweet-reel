syntax = "proto3";

option go_package = "github.com/sweetloveinyourheart/sweet-reel/proto/code/video_management/go;grpc";

package com.sweetloveinyourheart.srl.videomanagement.dataproviders;

service VideoManagement {
    rpc PresignedUrl(PresignedUrlRequest) returns(PresignedUrlResponse);
    rpc GetUserVideos(GetUserVideosRequest) returns(GetUserVideosResponse);
}

message PresignedUrlRequest {
    string title = 1;
    string description = 2;
    string file_name = 3;
    string uploader_id = 4;
}

message PresignedUrlResponse {
    string video_id = 1;
    string presigned_url = 2;
    int32 expires_in = 3;
}

message GetUserVideosRequest {
    string user_id = 1;
    int32 limit = 2;
    int32 offset = 3;
}

message UserVideo {
    string video_id = 1;
    string video_title = 2;
    string thumbnail_url = 3;
    int32 total_duration = 4;
    int64 processed_at = 5;
}

message GetUserVideosResponse {
    repeated UserVideo videos = 1;
}
